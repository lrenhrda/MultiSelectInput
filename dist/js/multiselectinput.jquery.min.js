/*! MultiSelectInput - v0.1.0 - 2014-05-30 */(function(){var a;a=jQuery,a.fn.extend({multiSelectInput:function(b){var c,d,e;return d={separator:",",debug:!1},d=a.extend(d,b),c=function(a){return d.debug&&"undefined"!=typeof console&&null!==console?void 0:void 0},e=function(a){var b;return b=document.createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,window),a.dispatchEvent(b)},this.each(function(){var b,c,f,g,h,i,j,k,l,m;return i=a(this),j=a('<button type="button" class="js-multiselectinput__pick">â–¾</button>'),f=a('<span class="js-multiselectinput__count"></span>'),h=a('<input type="text" class="js-multiselectinput__input" placeholder="Create & Add...">'),b=a('<button type="button" class="js-multiselectinput__add" disabled>+</button>'),k=i.wrap('<div class="js-multiselectinput"></div>').parent(),g=a(this).parents("form").eq(0),a.msiIsMobile.iOS()&&k.attr("data-ios",!0),a.msiIsMobile.Android()&&k.attr("data-android",!0),a.msiIsMobile.any()&&k.attr("data-mobile",!0),h.on({focus:function(){return b.removeAttr("disabled")},blur:function(){return h.val()?void 0:b.attr("disabled",!0)}}),g.on("submit",function(){return h.is(":focus")?(b.click(),!1):void 0}),c=function(b){var c,d;return d=null,c=new RegExp("^"+b+"$","i"),a("option",i).each(function(){return c.test(a(this).val())?d=a(this):void 0}),d},m=function(a){return f.text(a>0?a:"")},l=function(b){var e;return e=d.separator?b.split(d.separator):[b],a.each(e,function(b,d){var e,f,g;return g=d.trim(),e=c(g),e?e.prop("selected",!0):(f=a("<option>").val(g),f.text(g),i.append(f),f.prop("selected",!0))})},b.on("click",function(){return h.val()&&(l(h.val()),h.val(""),m(i.find(":selected").size())),!1}),j.on("mousedown",function(){return k.attr("data-expanded")?(i.blur(),k.removeAttr("data-expanded")):(i.focus(),e(i[0]),k.attr("data-expanded",!0)),!1}),i.on({focus:function(){return k.attr("data-focus",!0),!1},blur:function(){return k.removeAttr("data-expanded","data-focus"),m(i.find(":selected").size()),h.focus(),h.click(),!1}}),i.on("mousedown","option",function(b){return b.preventDefault(),a(this).prop("selected",!a(this).prop("selected")),!1}),h.on("keydown",function(a){return 40===a.which?i.focus():void 0}),i.on("keydown",function(a){return 27===a.which&&i.blur(),13===a.which?!1:void 0}),j.append(f),k.prepend(j),k.append(h),k.append(b)})}}),a.extend({msiIsMobile:{Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Windows()}}})}).call(this);
/*! MultiSelectInput - v0.1.0 - 2014-05-30 */(function(){var a;a=jQuery,a.fn.extend({multiSelectInput:function(b){var c,d,e;return d=a.extend(d,b),c=function(a){return d.debug&&"undefined"!=typeof console&&null!==console?void 0:void 0},e=function(a){var b;return b=document.createEvent("MouseEvents"),b.initMouseEvent("mousedown",!0,!0,window),a.dispatchEvent(b)},this.each(function(){var b,c,d,f,g,h,i,j,k,l,m;return h=a(this),m='<svg class="js-multiselectinput__icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="16" sketch:type="MSArtboardGroup" fill="#000000"><path d="M0,0 L4.4408921e-16,7.06237793 L8.95344413,16.0158221 L15.9847108,8.9845554 L7.04707304,0.0469176489 L0,0 Z M3.5,5 C4.32842712,5 5,4.32842712 5,3.5 C5,2.67157288 4.32842712,2 3.5,2 C2.67157288,2 2,2.67157288 2,3.5 C2,4.32842712 2.67157288,5 3.5,5 Z" id="Path-1" sketch:type="MSShapeGroup"></path></g></g></svg>',k='<svg class="js-multiselectinput__icon" width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="16" sketch:type="MSArtboardGroup" fill="#000000"><path d="M6,6 L6,0 L10,0 L10,6 L16,6 L16,10 L10,10 L10,16 L6,16 L6,10 L0,10 L0,6 L6,6 Z" id="Rectangle-1" sketch:type="MSShapeGroup"></path></g></g></svg>',i=a('<button type="button" class="js-multiselectinput__pick">'+m+"</button>"),d=a('<span class="js-multiselectinput__count"></span>'),g=a('<input type="text" class="js-multiselectinput__input" placeholder="Create & Add...">'),b=a('<button type="button" class="js-multiselectinput__add" disabled>'+k+"</button>"),j=h.wrap('<div class="js-multiselectinput"></div>').parent(),f=a(this).parents("form").eq(0),a.msiIsMobile.iOS()&&j.attr("data-ios",!0),a.msiIsMobile.Android()&&j.attr("data-android",!0),a.msiIsMobile.any()&&j.attr("data-mobile",!0),g.on({focus:function(){return b.removeAttr("disabled")},blur:function(){return g.val()?void 0:b.attr("disabled",!0)}}),f.on("submit",function(){return g.is(":focus")?(b.click(),!1):void 0}),c=function(b){var c,d;return d=null,c=new RegExp("^"+b+"$","i"),a("option",h).each(function(){return c.test(a(this).val())?d=a(this):void 0}),d},l=function(a){return d.text(a>0?a:"")},b.on("click",function(){var b,d;return g.val()&&(b=c(g.val()),b?b.prop("selected",!0):(d=a("<option>").val(g.val()),d.text(g.val()),h.append(d),d.prop("selected",!0)),g.val(""),l(h.find(":selected").size())),!1}),i.on("mousedown",function(){return j.attr("data-expanded")?(h.blur(),j.removeAttr("data-expanded")):(h.focus(),e(h[0]),j.attr("data-expanded",!0)),!1}),h.on("blur",function(){return j.removeAttr("data-expanded"),l(h.find(":selected").size()),g.focus(),g.click(),!1}),h.on("mousedown","option",function(b){return b.preventDefault(),a(this).prop("selected",!a(this).prop("selected")),!1}),g.on("keydown",function(a){return 40===a.which?h.focus():void 0}),h.on("keydown",function(a){return 27===a.which&&h.blur(),13===a.which?!1:void 0}),i.append(d),j.prepend(i),j.append(g),j.append(b)})}}),a.extend({msiIsMobile:{Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Windows()}}})}).call(this);